{
  "name": "plantvillage-gpu",
  "image": "nvidia/cuda:12.3.2-runtime-ubuntu22.04",
 
  "workspaceMount": "source=${localWorkspaceFolder},target=/workspaces/app,type=bind",
  "workspaceFolder": "/workspaces/app",
 
  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {
      "username": "vscode",
      "uid": 1000,
      "gid": 1000,
      "upgradePackages": true,
      "installZsh": false
    }
  },
 
  "remoteUser": "vscode",
 
  "runArgs": [
    "--device=/dev/dxg",
    "--gpus=all"
  ],
  "mounts": [
    "source=/usr/lib/wsl/lib,target=/usr/lib/wsl/lib,type=bind,readonly"
  ],
  "containerEnv": {
    "NVIDIA_VISIBLE_DEVICES": "all",
    "NVIDIA_DRIVER_CAPABILITIES": "compute,utility",
    "LD_LIBRARY_PATH": "/usr/lib/wsl/lib"
  },
 
  "overrideCommand": true,
  "command": ["sh", "-lc", "sleep infinity"],
 
  "init": true
}